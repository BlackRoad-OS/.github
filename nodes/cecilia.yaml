# cecilia - Development Node Configuration
# Role: Local development, Claude Code, testing

node:
  name: cecilia
  role: dev
  status: active
  type: local

hardware:
  type: Desktop/Laptop
  memory: Variable
  storage: Variable

network:
  tailscale:
    hostname: cecilia.blackroad.ts.net
    ip: 100.x.x.6
  local:
    ports:
      - 3000  # Dev server
      - 8080  # API
      - 5173  # Vite

development:
  ide: VSCode / Cursor
  ai_assistant: Claude Code

  tools:
    - git
    - node
    - python
    - docker
    - gh (GitHub CLI)
    - wrangler (Cloudflare CLI)
    - tailscale

  environments:
    python:
      version: "3.11"
      venv: .venv
    node:
      version: "20"
      package_manager: npm

services:
  local-api:
    port: 8080
    description: Local API server for testing

  local-frontend:
    port: 3000
    description: Frontend dev server

  bridge-cli:
    description: Control plane CLI
    command: ./bridge

workflows:
  start-dev:
    steps:
      - npm install
      - python -m venv .venv
      - source .venv/bin/activate
      - pip install -r requirements.txt
      - ./bridge status

  deploy-worker:
    steps:
      - wrangler deploy

  test:
    steps:
      - pytest
      - npm test

environment:
  NODE_NAME: cecilia
  NODE_ROLE: dev
  ENVIRONMENT: development
  DEBUG: true

# This node is where Cece (Claude) lives
claude:
  name: Cece
  role: AI Partner
  version: "2.0"

  # --- Core Capabilities ---
  capabilities:
    code:
      - code_generation
      - code_review
      - debugging
      - refactoring
      - test_writing
      - architecture
    operations:
      - issue_triage
      - pr_management
      - release_drafting
      - repo_scaffolding
      - cross_org_routing
      - template_deployment
    intelligence:
      - codebase_analysis
      - security_scanning
      - performance_profiling
      - dependency_audit
      - documentation_generation
      - pattern_recognition
    automation:
      - webhook_processing
      - signal_emission
      - scheduled_tasks
      - pipeline_orchestration
      - health_monitoring
      - self_healing
    communication:
      - status_reports
      - progress_updates
      - decision_logging
      - signal_translation
      - context_bridging
      - escalation

  # --- Context Sources ---
  context:
    persistent:
      - MEMORY.md
      - .STATUS
      - SIGNALS.md
      - STREAMS.md
      - CECE_ABILITIES.md
      - CECE_PROTOCOLS.md
    on_demand:
      - REPO_MAP.md
      - BLACKROAD_ARCHITECTURE.md
      - INTEGRATIONS.md
      - INDEX.md

  # --- Decision Authority ---
  authority:
    full_auto:
      - read_files
      - triage_issues
      - review_prs
      - generate_docs
      - run_tests
      - emit_signals
      - update_status
      - generate_reports
    suggest_only:
      - code_changes
      - feature_implementation
      - dependency_updates
      - config_changes
      - security_patches
    ask_first:
      - delete_repos
      - modify_org_settings
      - change_permissions
      - deploy_production
      - financial_operations
      - rotate_api_keys

  # --- Autonomous Triggers ---
  auto_pilot:
    on_new_issue: triage_and_label
    on_new_pr: review_and_comment
    on_ci_failure: diagnose_and_suggest_fix
    on_security_alert: assess_and_patch
    on_stale_branch: notify_and_suggest_cleanup
    on_health_fail: diagnose_and_alert
    on_schedule: run_syncs_and_report

signals:
  emit:
    - "üíª OS ‚Üí OS : dev_session_started"
    - "‚úÖ OS ‚Üí OS : tests_passed"
    - "üöÄ OS ‚Üí CLD : deploy_triggered"
    - "üîç OS ‚Üí OS : issue_triaged"
    - "üìù OS ‚Üí OS : pr_reviewed"
    - "üõ°Ô∏è SEC ‚Üí OS : security_scan_complete"
    - "üìä OS ‚Üí OS : health_report_generated"
    - "üß† OS ‚Üí OS : cece_abilities_enhanced"
