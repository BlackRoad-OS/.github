/* ============================================
   BlackRoad OS - Pixel Desktop UI
   ============================================ */

@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=JetBrains+Mono:wght@400;600;700&display=swap');

:root {
  --bg-dark: #0d0d1a;
  --bg-panel: #1a1a2e;
  --bg-card: #16213e;
  --bg-input: #0f0f23;
  --border: #2a2a4a;
  --text-primary: #e0e0e0;
  --text-secondary: #8888aa;
  --accent-orange: #f5a623;
  --accent-green: #7ed321;
  --accent-red: #d0021b;
  --accent-pink: #ff6b9d;
  --accent-purple: #9013fe;
  --accent-blue: #4a90d9;
  --accent-cyan: #00d4ff;
  --gradient-warm: linear-gradient(90deg, #ff6b35, #f7c948, #ff6b9d, #c44dff);
  --gradient-cool: linear-gradient(90deg, #4a90d9, #00d4ff, #7ed321, #4a90d9);
  --pixel-font: 'Press Start 2P', monospace;
  --mono-font: 'JetBrains Mono', 'Courier New', monospace;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #050510;
  color: var(--text-primary);
  font-family: var(--mono-font);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  overflow: hidden;
}

/* App Window */
.app-window {
  width: 100vw;
  height: 100vh;
  max-width: 1400px;
  max-height: 900px;
  background: var(--bg-dark);
  border: 2px solid var(--border);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: 0 0 60px rgba(74, 144, 217, 0.15), 0 0 120px rgba(144, 19, 254, 0.08);
}

/* ---- Title Bar ---- */
.title-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--bg-panel);
  padding: 0 12px;
  height: 42px;
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}

.title-bar-left {
  display: flex;
  align-items: center;
  gap: 20px;
}

.app-logo {
  display: flex;
  align-items: center;
}

.top-nav {
  display: flex;
  gap: 4px;
}

.nav-item {
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 12px;
  font-weight: 600;
  padding: 8px 14px;
  border-radius: 4px;
  transition: all 0.2s;
  letter-spacing: 0.02em;
}

.nav-item:hover {
  color: var(--text-primary);
  background: rgba(255, 255, 255, 0.05);
}

.nav-item.active {
  color: #fff;
  background: rgba(74, 144, 217, 0.2);
}

.window-controls {
  display: flex;
  gap: 8px;
}

.win-btn {
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.06);
  color: var(--text-secondary);
  font-size: 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.win-btn:hover { background: rgba(255, 255, 255, 0.12); color: #fff; }
.win-btn.close:hover { background: var(--accent-red); color: #fff; }

/* ---- Gradient Bars ---- */
.gradient-bars {
  flex-shrink: 0;
}

.gradient-bar {
  height: 4px;
}

.bar-warm {
  background: var(--gradient-warm);
}

.bar-cool {
  background: var(--gradient-cool);
  height: 6px;
}

/* ---- Main Layout ---- */
.main-layout {
  display: flex;
  flex: 1;
  overflow: hidden;
}

/* ---- Left Sidebar ---- */
.sidebar-left {
  width: 48px;
  background: var(--bg-panel);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 12px 0;
  gap: 4px;
  flex-shrink: 0;
}

.sidebar-icon {
  width: 36px;
  height: 36px;
  border: none;
  border-radius: 6px;
  background: transparent;
  color: var(--text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.sidebar-icon:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--accent-cyan);
}

.sidebar-spacer {
  flex: 1;
}

/* ---- Content Area ---- */
.content-area {
  flex: 1;
  display: flex;
  padding: 12px;
  gap: 12px;
  overflow: hidden;
}

/* ---- Chat Panel ---- */
.chat-panel {
  width: 320px;
  background: var(--bg-panel);
  border: 1px solid var(--border);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  overflow: hidden;
}

.chat-header {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-primary);
  padding: 12px 16px;
  border-bottom: 2px solid var(--accent-blue);
  letter-spacing: 0.03em;
}

.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 12px 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.chat-messages::-webkit-scrollbar {
  width: 4px;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 2px;
}

.chat-msg {
  font-size: 12px;
  line-height: 1.5;
  color: var(--text-secondary);
}

.agent-name {
  font-weight: 700;
  margin-right: 4px;
}

.agent-name.cecilia { color: #ff6b9d; }
.agent-name.cadence { color: #f5a623; }
.agent-name.lucidia { color: #00d4ff; }
.agent-name.octavia { color: #7ed321; }
.agent-name.aria { color: #c44dff; }
.agent-name.anastasia { color: #ff8a65; }
.agent-name.alice { color: #64b5f6; }
.agent-name.gematria { color: #ce93d8; }
.agent-name.codex { color: #4db6ac; }
.agent-name.silas { color: #90a4ae; }
.agent-name.alexandria { color: #aed581; }
.agent-name.alexa-louise { color: #ff6b9d; font-style: italic; }

.chat-divider {
  height: 2px;
  background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue), transparent);
  margin: 0 16px;
}

.chat-input-area {
  display: flex;
  align-items: center;
  padding: 10px 16px;
  gap: 6px;
}

.prompt-symbol {
  color: var(--accent-pink);
  font-weight: 700;
  font-size: 13px;
  flex-shrink: 0;
}

.chat-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: var(--text-primary);
  font-family: var(--mono-font);
  font-size: 12px;
  caret-color: var(--accent-cyan);
}

.chat-input::placeholder {
  color: var(--text-secondary);
  opacity: 0.5;
}

/* ---- Center Viewport ---- */
.center-viewport {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.viewport-main {
  flex: 1;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.pixel-scene {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
}

/* Command Center Scene */
.command-center {
  background: linear-gradient(180deg, #0a0a1a 0%, #0d1b2a 40%, #1b2838 100%);
}

.scene-overlay {
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  font-family: var(--pixel-font);
  font-size: 10px;
  color: var(--accent-cyan);
  text-shadow: 0 0 10px var(--accent-cyan);
  letter-spacing: 3px;
  z-index: 10;
}

.holo-table {
  position: absolute;
  bottom: 30%;
  left: 50%;
  transform: translateX(-50%);
  width: 200px;
  height: 100px;
  background: radial-gradient(ellipse at center, rgba(0, 212, 255, 0.15) 0%, transparent 70%);
  border: 1px solid rgba(0, 212, 255, 0.2);
  border-radius: 50%;
  animation: holoPulse 3s ease-in-out infinite;
}

@keyframes holoPulse {
  0%, 100% { opacity: 0.6; box-shadow: 0 0 20px rgba(0, 212, 255, 0.1); }
  50% { opacity: 1; box-shadow: 0 0 40px rgba(0, 212, 255, 0.25); }
}

.console-row {
  position: absolute;
  top: 15%;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px;
}

.console-row.bottom {
  top: auto;
  bottom: 8%;
}

.console-screen {
  width: 80px;
  height: 50px;
  border-radius: 4px;
  border: 1px solid rgba(0, 212, 255, 0.3);
  animation: screenFlicker 4s ease-in-out infinite;
}

.console-screen.s1 { background: linear-gradient(135deg, #1a237e, #0d47a1); animation-delay: 0s; }
.console-screen.s2 { background: linear-gradient(135deg, #004d40, #00695c); animation-delay: 0.5s; }
.console-screen.s3 { background: linear-gradient(135deg, #4a148c, #6a1b9a); animation-delay: 1s; }
.console-screen.s4 { background: linear-gradient(135deg, #bf360c, #e65100); animation-delay: 1.5s; }
.console-screen.s5 { background: linear-gradient(135deg, #1b5e20, #2e7d32); animation-delay: 2s; }
.console-screen.s6 { background: linear-gradient(135deg, #0d47a1, #1565c0); animation-delay: 2.5s; }

@keyframes screenFlicker {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

.stars {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image:
    radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,0.6), transparent),
    radial-gradient(1px 1px at 30% 15%, rgba(255,255,255,0.4), transparent),
    radial-gradient(1px 1px at 50% 8%, rgba(255,255,255,0.5), transparent),
    radial-gradient(1px 1px at 70% 25%, rgba(255,255,255,0.3), transparent),
    radial-gradient(1px 1px at 85% 12%, rgba(255,255,255,0.6), transparent),
    radial-gradient(1px 1px at 15% 40%, rgba(255,255,255,0.2), transparent),
    radial-gradient(1px 1px at 60% 35%, rgba(255,255,255,0.4), transparent),
    radial-gradient(1px 1px at 90% 40%, rgba(255,255,255,0.3), transparent),
    radial-gradient(2px 2px at 25% 5%, rgba(0, 212, 255, 0.4), transparent),
    radial-gradient(2px 2px at 75% 30%, rgba(144, 19, 254, 0.3), transparent);
  pointer-events: none;
  animation: twinkle 6s ease-in-out infinite alternate;
}

@keyframes twinkle {
  0% { opacity: 0.7; }
  100% { opacity: 1; }
}

/* ---- Thumbnail Grid ---- */
.thumb-grid {
  width: 200px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  flex-shrink: 0;
  overflow-y: auto;
}

.thumb-grid::-webkit-scrollbar {
  width: 3px;
}

.thumb-grid::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 2px;
}

.thumb-item {
  aspect-ratio: 4/3;
  border-radius: 6px;
  border: 1px solid var(--border);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all 0.2s;
}

.thumb-item:hover {
  border-color: var(--accent-cyan);
  box-shadow: 0 0 12px rgba(0, 212, 255, 0.2);
  transform: scale(1.03);
}

.thumb-item[data-scene="office"] {
  background: linear-gradient(135deg, #2a1a0a, #3d2b1f);
}

.thumb-item[data-scene="apartment"] {
  background: linear-gradient(135deg, #8b6914, #c4956a);
}

.thumb-item[data-scene="home"] {
  background: linear-gradient(135deg, #a0855a, #d4b896);
}

.thumb-item[data-scene="dataport"] {
  background: linear-gradient(135deg, #0a3a7a, #1a6abf);
}

.thumb-item[data-scene="farm"] {
  background: linear-gradient(135deg, #2a6b1a, #5a9e3b);
}

.thumb-item[data-scene="town"] {
  background: linear-gradient(135deg, #3a7a2a, #6ab04a);
}

.thumb-item[data-scene="museum"] {
  background: linear-gradient(135deg, #1a1a3d, #2b2b5e);
}

.thumb-item[data-scene="store"] {
  background: linear-gradient(135deg, #3d2a1a, #5e3b2b);
}

.thumb-item[data-scene="lounge"] {
  background: linear-gradient(135deg, #1a2a3d, #2b3b5e);
}

.thumb-item[data-scene="cottage"] {
  background: linear-gradient(135deg, #2a3d0a, #3b5e1a);
}

.thumb-item[data-scene="garage"] {
  background: linear-gradient(135deg, #3d1a1a, #5e2b2b);
}

.thumb-item[data-scene="dock"] {
  background: linear-gradient(135deg, #2a0a3d, #5e1a6b);
}

.thumb-item[data-scene="lab"] {
  background: linear-gradient(135deg, #0a3d2a, #1a5e4a);
}

.thumb-item[data-scene="vault"] {
  background: linear-gradient(135deg, #3d3a0a, #5e5510);
}

.thumb-item[data-scene="garden"] {
  background: linear-gradient(135deg, #3d0a2a, #6b1a5e);
}

.thumb-item[data-scene="bullpen"] {
  background: linear-gradient(135deg, #3d3020, #6b5a3a);
}

.thumb-item[data-scene="summit"] {
  background: linear-gradient(135deg, #1a2840, #2a3d5e);
}

.thumb-item[data-scene="campus"] {
  background: linear-gradient(135deg, #1a4a1a, #2a7a3a);
}

.thumb-item[data-scene="metro"] {
  background: linear-gradient(135deg, #1a3a2a, #2a6a4a);
}

.thumb-item[data-scene="nation"] {
  background: linear-gradient(135deg, #0a2a4a, #1a4a7a);
}

.thumb-item[data-scene="arena"] {
  background: linear-gradient(135deg, #4a1a0a, #8a3a1a);
}

.thumb-item[data-scene="shrine"] {
  background: linear-gradient(135deg, #2a1050, #5a2a8a);
}

.thumb-item[data-scene="outpost"] {
  background: linear-gradient(135deg, #1a3a2a, #2a5a4a);
}

.thumb-item[data-scene="harbor"] {
  background: linear-gradient(135deg, #0a2040, #1a3a6a);
}

.thumb-item[data-scene="citadel"] {
  background: linear-gradient(135deg, #3a2010, #6a4020);
}

.thumb-item[data-scene="bunker"] {
  background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
}

.thumb-item[data-scene="tavern"] {
  background: linear-gradient(135deg, #3a2a10, #6a4a20);
}

.thumb-item[data-scene="skyport"] {
  background: linear-gradient(135deg, #1a3050, #3a5080);
}

.thumb-item[data-scene="canyon"] {
  background: linear-gradient(135deg, #4a2010, #7a3820);
}

.thumb-item[data-scene="fortress"] {
  background: linear-gradient(135deg, #2a2a1a, #4a4a2a);
}

.thumb-item[data-scene="cloudflare"] {
  background: linear-gradient(135deg, #3a2a0a, #6a4a10);
}

.thumb-item[data-scene="github"] {
  background: linear-gradient(135deg, #1a1a2a, #2a2a3a);
}

.thumb-item[data-scene="googleplex"] {
  background: linear-gradient(135deg, #2a4a1a, #4a7a2a);
}

.thumb-item[data-scene="anthropic"] {
  background: linear-gradient(135deg, #1a1520, #2a2035);
}

.thumb-item[data-scene="blackroad"] {
  background: linear-gradient(135deg, #2a1040, #5a2080);
}

.thumb-item[data-scene="reactor"] {
  background: linear-gradient(135deg, #004a1a, #008a2a);
}

.thumb-item[data-scene="bazaar"] {
  background: linear-gradient(135deg, #4a3010, #7a5020);
}

.thumb-item[data-scene="temple"] {
  background: linear-gradient(135deg, #301020, #5a2040);
}

.thumb-item[data-scene="orbital"] {
  background: linear-gradient(135deg, #001a3a, #003060);
}

.thumb-item[data-scene="nexus"] {
  background: linear-gradient(135deg, #1a1a30, #2a2a50);
}

.thumb-item[data-scene="library"] {
  background: linear-gradient(135deg, #2a2010, #4a3a20);
}

.thumb-item[data-scene="plaza"] {
  background: linear-gradient(135deg, #1a2a4a, #2a4a7a);
}

.thumb-item[data-scene="clinic"] {
  background: linear-gradient(135deg, #1a3030, #2a5050);
}

.thumb-item[data-scene="depot"] {
  background: linear-gradient(135deg, #2a2a18, #4a4a28);
}

.thumb-item[data-scene="quarters"] {
  background: linear-gradient(135deg, #201830, #3a2850);
}

.thumb-label {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  color: var(--text-primary);
  font-size: 8px;
  font-family: var(--pixel-font);
  padding: 4px 6px;
  text-align: center;
}

/* ---- Bottom Bar ---- */
.bottom-bar {
  height: 52px;
  background: var(--bg-panel);
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.color-palette {
  display: flex;
  gap: 10px;
}

.color-dot {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s;
  outline: none;
}

.color-dot:hover {
  transform: scale(1.15);
  border-color: rgba(255, 255, 255, 0.3);
}

.color-dot.active {
  border-color: #fff;
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.3);
}

/* ---- Pixel Art Decorative Elements ---- */
.thumb-item::before {
  content: '';
  position: absolute;
  top: 4px;
  left: 4px;
  right: 4px;
  bottom: 16px;
  border-radius: 3px;
  opacity: 0.3;
  background-image:
    repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(255,255,255,0.03) 3px, rgba(255,255,255,0.03) 4px),
    repeating-linear-gradient(90deg, transparent, transparent 3px, rgba(255,255,255,0.03) 3px, rgba(255,255,255,0.03) 4px);
}

/* ---- Scanline Effect on Viewport ---- */
.viewport-main::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 2px,
    rgba(0, 0, 0, 0.03) 4px
  );
  pointer-events: none;
}

/* ---- Responsive ---- */
@media (max-width: 1200px) {
  .chat-panel { width: 260px; }
  .thumb-grid { width: 160px; }
}

@media (max-width: 900px) {
  .content-area {
    flex-direction: column;
  }
  .chat-panel {
    width: 100%;
    max-height: 200px;
  }
  .thumb-grid {
    width: 100%;
    grid-template-columns: repeat(4, 1fr);
    max-height: 100px;
  }
}
